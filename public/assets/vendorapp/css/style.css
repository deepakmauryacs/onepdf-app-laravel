:root{
  --sidebar-bg:#111; --sidebar-text:#f1f1f1; --sidebar-muted:#999;
  --surface:#fff; --text:#111;
  --shadow:0 8px 24px rgba(0,0,0,.08); --radius:14px;
  --line:#ececec;
}
*{font-family:"DM Sans",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
html,body{height:100%}
body{background:#f6f6f6;color:var(--text)}
.app{display:flex;min-height:100vh;width:100%}

/* Sidebar */
.sidebar{
  width:240px;background:var(--sidebar-bg);color:var(--sidebar-text);
  position:sticky;top:0;height:100vh;padding:18px 14px;flex:0 0 auto;
  transition: all 0.3s ease; display:flex; flex-direction:column;
}
.sidebar .nav{ flex:1 1 auto; } /* make nav consume space so .bottom sticks to bottom */

.brand{display:flex;align-items:center;gap:10px;padding:10px 12px;margin-bottom:10px;color:#fff;text-decoration:none;font-weight:700;font-size:1.05rem;}
.brand .logo{display:grid;place-items:center;width:28px;height:28px;border-radius:6px;background:#fff;color:#000}
.brand .logo i{font-size:16px}

.nav-link{color:var(--sidebar-text);border-radius:12px;padding:10px 12px;display:flex;align-items:center;gap:10px;font-weight:500;letter-spacing:.1px;}
.nav-link:hover{background:#222;color:#fff}
.nav-link.active{background:#333;color:#fff}

/* Submenu (Settings) */
.subnav{padding-left:8px; margin-left:6px; border-left:1px dashed #2a2a2a;}
.subnav .nav-link{padding:8px 10px;border-radius:10px;font-weight:600;color:#d9d9d9}
.subnav .nav-link:hover{background:#1b1b1b;color:#fff}

.bottom{margin-top:auto;padding:10px}
.logout{
  background:#222;color:#fff;border:0;width:100%;padding:10px 12px;border-radius:12px;
  font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;
}

/* Sidebar close button (mobile) */
.sidebar-close {
  display: none;
  position: absolute;
  top: 16px;
  right: 16px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: #222;
  color: #fff;
  border: none;
  align-items: center;
  justify-content: center;
  z-index: 1050;
}

/* Collapsed sidebar */
.sidebar.collapsed { width: 70px; }
.sidebar.collapsed .brand span:last-child,
.sidebar.collapsed .nav-link span,
.sidebar.collapsed .logout span { display: none; }
.sidebar.collapsed .brand { justify-content: center; padding: 10px 0; }
.sidebar.collapsed .nav-link { justify-content: center; padding: 10px; }
.sidebar.collapsed .subnav { display:none !important; } /* hide submenu when collapsed */

/* NEW: keep logout centered & square in collapsed mode */
.sidebar.collapsed .bottom{
  padding:10px;
  display:flex;
  justify-content:center;
}
.sidebar.collapsed .logout{
  width:44px;height:44px;padding:0;border-radius:12px;
  display:inline-flex;align-items:center;justify-content:center;
}
.sidebar.collapsed .logout i{ margin:0; }

/* Main */
.main{
  flex:1;min-width:0;padding:18px 20px 0; /* footer handles bottom spacing */
  transition: all 0.3s ease;
  display:flex; flex-direction:column;   /* enable sticky footer inside main */
}

/* Topbar */
.topbar{
  background:var(--surface);border-radius:var(--radius);padding:12px 14px;box-shadow:var(--shadow);margin-bottom:12px;
  display:flex;align-items:center;gap:12px;position:relative;z-index:10;
}
.icon-btn,.avatar-btn{
  width:40px;height:40px;border-radius:12px;border:1px solid #ddd;background:#fff;display:inline-flex;align-items:center;justify-content:center;
}
.avatar-btn{border-radius:50%; padding:0;}
.avatar-btn i{font-size:1.1rem}
.search{flex:1;position:relative}
.search .bi{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#aaa}
.search .form-control{padding-left:40px;border-radius:12px;border:1px solid #ccc;height:40px;font-size:.95rem;}
.avatar-btn.dropdown-toggle::after,
.icon-btn.dropdown-toggle::after{display:none}

.topbar-icons { display: flex; align-items: center; gap: 12px; }

/* Breadcrumb / header band */
.bw-band{
  background:linear-gradient(#f4f5f9, #eef0f4);
  border-radius:14px; padding:14px 16px; box-shadow:var(--shadow); margin-bottom:18px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.bw-crumb{margin:0; padding:0; list-style:none; display:flex; gap:10px; align-items:center; font-weight:700; color:#1a1a1a;}
.bw-crumb li+li::before{content:"/"; color:#9a9a9a; margin-right:10px}
.bw-crumb a{color:#555; text-decoration:none}
.bw-crumb a:hover{text-decoration:underline}
.bw-band .btn{border-radius:12px}

/* Dropdown base */
.dropdown-menu{
  font-size:.9rem;
  border-radius:12px;
  padding:0;
  overflow:hidden;
  border: 1px solid #e0e0e0;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

/* Notification dropdown */
.notif-menu{ min-width:360px; max-height: 80vh; overflow-y: auto; }
.notif-head{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--line);background:#fff;font-weight:700;color:#333}
.notif-clear{font-weight:600;font-size:.9rem;color:#666;text-decoration:none}
.notif-clear:hover{color:#000;text-decoration:underline}
.notif-list{max-height:360px;overflow:auto}
.notif-item{display:flex;gap:12px;padding:14px 16px;background:#fff}
.notif-item + .notif-item{border-top:1px solid #f0f0f0}
.notif-avatar{width:40px;height:40px;border-radius:50%;background:#e9e9e9;display:grid;place-items:center;font-weight:700;color:#666;flex:0 0 40px;overflow:hidden}
.notif-avatar img{width:100%;height:100%;object-fit:cover}
.notif-body{flex:1;min-width:0}
.notif-name{font-weight:700;color:#222}
.notif-text{color:#666;margin:2px 0 0;font-size:.93rem;line-height:1.2}
.notif-cta{padding:12px 16px;border-top:1px solid #ececec;background:#fff}
.btn-cta{width:100%;border-radius:10px;background:#111;color:#fff;border:1px solid #111}
.btn-cta:hover{background:#000;color:#fff}

/* Files Card + Table (B/W) */
.card{border:0;border-radius:var(--radius);box-shadow:var(--shadow);background:#fff}
.card-header{background:#fff;border-bottom:1px solid var(--line);padding:12px 16px}
.files-toolbar{display:flex; align-items:center; gap:12px; flex-wrap:wrap;}
.files-title{display:flex; align-items:center; gap:8px; font-weight:800; margin-right:10px;}
.files-title .count{font-size:.8rem; padding:2px 8px; border-radius:999px; background:#f1f1f1; color:#333}
.files-search{flex:1; min-width:240px; position:relative}
.files-search .bi{position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#aaa}
.files-search input{padding-left:38px; border-radius:12px; border:1px solid #ddd; height:40px}
.btn-del{border-color:#e0b4b4; color:#a33; background:#fff}
.btn-del:hover{border-color:#a33; color:#a33; background:#fff}

.table{margin-bottom:0}
.table thead th{font-weight:700; color:#6e6e6e; font-size:.86rem; border-bottom:1px solid var(--line); text-transform:none}
.table td{vertical-align:middle}
.col-file{display:flex; align-items:center; gap:12px}
.file-chip{width:36px; height:36px; border-radius:10px; display:grid; place-items:center; background:#f5f5f5; font-size:18px}
.file-name a{text-decoration:none; color:#222; font-weight:600}
.status-pill{padding:.35rem .7rem; border-radius:999px; border:1px solid #cfcfcf; font-weight:700; color:#222; background:#fff}
.table .btn{border-radius:10px}
.btn-ghost{background:#fff; border:1px solid #ddd; color:#111}
.btn-ghost:hover{background:#f6f6f6}
.btn-icon{width:38px; height:38px; display:inline-flex; align-items:center;justify-content:center; border-radius:10px; border:1px solid #ddd; background:#fff; color:#111}
.btn-icon:hover{background:#f6f6f6}

/* Footer (inside main) */
.footer{
  margin-top:auto;
  background:#f7f9fd;                 /* light, like screenshot */
  border-top:1px solid var(--line);   /* thin top border */
  padding:16px;
  text-align:center;
  color:#1f2937;                       /* slate-ish */
  font-weight:500;
}

/* Mobile sidebar */
@media (max-width: 991.98px){
  .sidebar{
    position:fixed;
    left:-240px;
    transition:left .25s ease;
    z-index:1040;
    box-shadow: 2px 0 10px rgba(0,0,0,0.3);
    height: 100%;
  }
  .sidebar.show{left:0}
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:saturate(120%) blur(1px);display:none; z-index: 1039;}
  .overlay.show{display:block}
  .sidebar-close { display: flex; }
}

/* Responsive improvements */
@media (max-width: 1199.98px) {
  .bw-band { flex-direction: column; align-items: flex-start; }
  .bw-band .d-flex { width: 100%; justify-content: space-between; }
}

@media (max-width: 991.98px) {
  .main { padding: 14px 16px 0; }
  .topbar { padding: 10px 12px; justify-content: space-between; }
  .bw-band { padding: 12px; margin-top: 10px; }
  .topbar .search { display: none; }
  .topbar-icons { margin-left: auto; }
  .main { padding-top: 12px; }
  .topbar { margin-top: 8px; }
}

@media (max-width: 767.98px) {
  .notif-menu {
    position: fixed !important; left: 50% !important; transform: translateX(-50%) !important;
    top: 80px !important; width: 95vw !important; max-width: 400px !important; min-width: unset !important; max-height: 70vh;
  }
  .user-menu {
    position: fixed !important; left: 50% !important; transform: translateX(-50%) !important;
    top: 80px !important; width: 90vw !important; max-width: 300px !important; min-width: unset !important;
  }
  .files-toolbar { flex-direction: column; align-items: flex-start; gap: 10px; }
  .files-search { width: 100%; min-width: auto; order: 2; }
  .btn-del { order: 3; width: 100%; justify-content: center; }
  .table-responsive { overflow-x: auto; -webkit-overflow-scrolling: touch; }
  .table thead th:nth-child(3), .table thead th:nth-child(4),
  .table td:nth-child(3), .table td:nth-child(4) { display: none; }
  .table .btn-ghost { padding: 6px 8px; font-size: 0.85rem; }
  .table .btn-icon { width: 32px; height: 32px; }
  .table td:last-child { min-width: 200px; }
  .col-file { gap: 8px; }
  .file-chip { width: 30px; height: 30px; font-size: 16px; }
  .file-name a { font-size: 0.9rem; }
  .files-search { display: block !important; margin: 8px 0; }
  .btn-del { display: flex; align-items: center; justify-content: center; margin-top: 8px; }
  .btn-del-text { display: inline; }
  .btn-del-icon { display: none !important; }
}

@media (max-width: 575.98px) {
  .topbar { flex-wrap: wrap; margin-top: 5px; }
  .bw-band { flex-direction: column; align-items: flex-start; margin-top: 12px; }
  .bw-band .d-flex { flex-direction: column; width: 100%; gap: 10px; }
  .bw-band .btn { width: 100%; }
  .dropdown-menu { position: fixed !important; left: 50% !important; transform: translateX(-50%) !important; width: 90%; max-width: 320px; }
  .notif-menu { min-width: auto; width: 90%; }
  .user-menu { min-width: auto; width: 90%; }
  .table thead th:nth-child(5), .table td:nth-child(5) { display: none; }
  .table td:last-child { display: flex; flex-direction: column; gap: 8px; }
  .table .btn-group { display: flex; gap: 6px; }
  .table .btn-group .btn { flex: 1; }
  .files-search { display: block !important; width: 100%; }
  /* REVISED: keep logout area in normal flow on very small screens */
  .sidebar .bottom { position: static; padding: 10px 14px; }
}

/* Delete button with text and icon variants */
.btn-del-icon {
  display: none;
  width: 40px; height: 40px; border-radius: 12px; border: 1px solid #e0b4b4; color: #a33; background: #fff;
  align-items: center; justify-content: center;
}
.btn-del-icon:hover { border-color: #a33; color: #a33; background: #fff; }
